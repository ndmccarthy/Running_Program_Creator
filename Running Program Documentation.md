Running Program Documentation

This program is meant to make planning my running schedule easier based on my goals and time.
Here are some considerations for how to determine the coming week's schedule.

RULES:
1. Training Blocks
    Determine which training block the user is in by how many weeks are left before the race or if a race just occurred.
    Base Phase:
        13+ Weeks prior to race
        This training block focuses on building your aerobic base, improving endurance, and conditioning the body for the workload ahead. The intensity is low and the mileage is about 50-70% of the peak mileage.
        Key workouts Include:
            a. Easy Runs (Zone 2)
            b. Long Runs gradually building distance
            c. Strides to develop neuromuscular coordination
            d. Light Strength Training
        For Completion Goal, focus on easy and long runs. For Time Goal, build mileage while introducing strides.
    Build Phase:
        4-12 Weeks Prior to Race
        This training block is focused on increasing the training load to develop stamina, speed, and race-specific fitness. It will include the highest volume (80-100% of peak mileage) and a mix of moderate and high intensity.
        Key Workouts Include:
            a. Tempo Runs (Zone 3-4)
            b. Intervals or Hill Sprints (Zone 4-5)
            c. Long Runs (Near goal pace or with progressive finishes)
            d. Mid-week Medium-Long Runs
        For Completion Goal, focus on increasing long runs and tempo runs. For Time Goal, emphasize tempo runs, intervals, and long runs with pace changes.
    Peak/Taper Phase:
        0-3 Weeks Prior to Race
        This training block reduces the weekly mileage to allow for recovery while maintaining sharpness and confidence. The volume reduces to about 50-70% of peak mileage but the intensity is maintained during key workouts of reduced frequency.
        Key Workouts Include:
            a. Race-pace runs
            b. Short Intervals at Low Volume
            c. Long Runs (Gradually reducing volume)
        For a Completion Goal, include a few shorter race-pace runs but prioritize recovery. For a Time Goal, prioritize race-pace efforts and fine-tuning pacing strategies.
    Recovery Phase:
        1-4 Weeks After Race, depending on Race Distance
        The recovery phase is reserved for the week(s) just after completing a race. It focuses on recovery, adaptation, and maintaining fitness without intense stress.
        The length of this block is dependent on the race distance completed:
            5-10K: 2 Weeks
            Half Marathon: 3 Weeks
            Marathon: 4 Weeks
        This training block is very specific for each week:
            Week 1: 30-50% of peak training load
                Mileage:
                    Half Marathon: 30-40% of peak weekly mileage
                    Marathon: 20-30% of peak weekly mileage
                a. 1-3 days of rest
                b. Easy Runs <= 30 minutes
            Week 2: 50-70% of peak training load
                Mileage:
                    Half Marathon: 50-60% of peak weekly mileage
                    Marathon: 40-50% of peak weekly mileage
                a. 3-5 Easy Runs (30-45 minutes)
                b. Strides (4-6, 20-30 seconds)
                c. Short Tempo Run (15 minute segment)
                d. Fartlek (4-6 x 1 minute @ 10K pace, 2 min recovery jog)
                e. Fast Finish Run (Marathon Pace; 30-45 minutes)
            Week 3+: 70-90% of peak training load
                Mileage:
                    Half Marathon: 60-75% of peak weekly mileage
                    Marathon: 60-70% of peak weekly mileage
                a. Easy Runs (30-60 minutes)
                b. Strides
                c. Tempo Run
                d. Long Run (~ a little less than half of race distance)
                e. Fartlek (4-6 x 1 minute @ 10K pace, 2 min recovery jog)
                e. Fast Finish Run (Marathon Pace; 30-45 minutes)
2. Weekly Progressive Overload
    Base exercise load will be based on a rolling 28 day average.
    The weekly exercise (Rolling) load will be based on the rolling average of the past 7 days.
    Weeks with progression will add 5-10% to the Base Exercise Load for the coming week.
    Peak weekly mileage will be based on primary race.
        Half Marathon: 25-50 miles
        Marathon: 40-60 miles
3. Deload Weeks
    These should be done at least once every 6 weeks or when the Fatigue Factor is above 20% for a week, whichever comes first.
    Fatigue Factor = (Rolling Load - Base Load)/Base Load
    Reduce weekly mileage by 20-50%. Intensity may remain the same.
    Long runs should be reduced by 30-40%.
4. Wourkout Types
    Alternate hard and easy days to give body rest.
    a. Long Runs 
        These should take up about 20-30% of the weekly mileage.
        The maximum mileage for a long run will be determined by race distance.
            Half Marathon: 8-12 miles
            Marathon: 18-22 miles
    b. Easy Runs
        These should be in Zone 2.
    c. Rest Day
        Include at least one rest day per week.
    d. Strides
        This workout is really an addendum to another workout. It is used to improve running efficiency, neuromuscular coordination, and turnover.
        These can be added to 1-2 workouts/per week.
        Duration: 15-30 seconds
        Effort: 85-95%
        Recovery: 45-60 seconds walk/jog
        Repetitions: 4-10
    e. Tempo Runs
        Tempo runs are meant to develop the lactate threshold and build stamina for long-distance events.
        Heart Rate: Zone 3-4
        Duration: 10-40 minutes, depending on repetitions
        Repetitions: 1-3
        Recovery: 3-5 minutes jog
    f. Intervals
        Intervals are known for improving VO2 max, speed, and the ability to clear lactic acid more efficiently.
        This should total to 2-5 miles.
        Focus on longer intervals for longer distances and vice versa.
        Heart Rate: Zone 4-5
        Duration: 
            Short: 200-400 meters/30 seconds-2 minutes
            Long: 800 meters-1 mile/3-6 minutes
        Recovery: 50-100% of duration (more for short)
        Repetitions: 4-8
    g. Hill Sprints
        Hill sprints build strength and power in tendons and muscles. Hills should be about 4-8% grade incline for best results.
        Duration: 10-20 seconds
        Recovery: walk or jog down (90-120 seconds)
        Repetitions: 4-10
5. Pacing
    Paces will be determined by Running Lactate Threshold Pace/Functional Threshold Pace (FTP).
        Zone 1: > 129% of FTP
        Zone 2: 114-129% of FTP
        Zone 3: 106-113% of FTP
        Zone 4: 99-105% of FTP
        Zone 5: < 99% of FTP
6. Weather Considerations
    a. Make days with high chances of rain or weather alerts rest days.
        If the weather reduces the number of training days to less than 3, pick the best days for the schedule for treadmill workouts.
    b. Plan speed workouts and long runs on days with lower dew point indices.
        Dew Point Index = Temperature + Dew Point
    c. Adjust prescribed paces based on dew point index for the day.
        < 100: No adjustment
        101-110: 0-0.5%
        111-120: 0.5-1%
        121-130: 1-2%
        131-140: 2-3%
        141-150: 3-4.5%
        151-160: 4.5-6%
        161-170: 6-8%
        171-180: 8-10%
        > 180: No hard running
    d. Suggest the best time to complete the run.
        The start time may not be earlier than 7am or sunrise, whichever is later.
        The estimated time of completion may not be later than 8pm or 30 minutes before sunset, whichever is earlier.
        Consider the historic data on dew point index change for the day. Choose a time when the dew point index is less than 120 if possible. If not, choose the time with the lowest dew point index. If the temperature is less than 50, choose the warmest time of day.
 
DATA:
All data on user and previous activities will come from the user's Garmin Connect app, which collects data from the user's watch.
Garmin Connect can provide the following information:
1. User Information
    a. Age
    b. VO2 Max
    c. Resting Heart Rate
    d. Running Lactate Threshold (Heart Rate and Pace)
2. Recent Activities
    a. Date
    b. Temperature
    c. Distance
    d. Total Time
    e. Average Pace
    f. Average Heart Rate
    g. Aerobic and Anaerobic Effect
    h. Exercise Load
Data on the coming week's forecast will come from the internet.

INPUTS:
This includes the inputs that need to be manually entered by the user. It does not include the data that will automatically be picked up by the program from Garmin Connect.
1. Race Distance, Date, and Location
2. Race Pace/Time Goal
3. Recovery Requirements
    If ill or injured, the user must be able to indicate the level of intensity they can handle for workouts (if any) and for how long they anticipate the necessary adjustment.
4. Days available for potential runs.
5. Location on each day (or whole week).

OUTPUTS:
This should be emailed to the user in a readable format.
1. One week (Monday-Sunday) of workouts based on the rules outlined above.
2. Comparison with previous week.
3. Month to month comparison after new month begins.
4. Reminder on Sunday night to input next week's plan request.

LOGIC:
1. Check if deload week is needed.
    a. Calculate fatigue factor.
    b. Check time since last deload week or recovery phase.
2. Determine block of training.
    a. Look at how many weeks out from race.
    b. Prioritize recovery phase over others if between races.
3. Estimate Exercise Load range for the coming week.
    a. Apply progression or deload percentages, as appropriate, to the base exercise load.
4. Determine number of days available for workouts.
    a. Compare selected days (based on schdule) with weather.
    b. Remove potential days if necessary based on weather.
5. Calculate overall mileage goals.
    a. Estimate goal weekly mileage based on training block, race distance, and previous week's mileage.
    b. Determine if goal weekly mileage is achievable based on estimated exercise load for the week (using 80/20 rule).
    c. Lower goal weekly mileage if necessary using 80/20 rule.
6. Parse out individual workouts.
    a. Calculate long run distance if in training block (20-30% of weekly mileage with upper limits based on race distance and previous distances).
    b. Calculate number of easy miles (80%). Subtract miles completed on long run.
    c. Determine speed workout.
        1) Pull speed workout types available based on training block.
        2) Randomly select one speed workout type from those available.
        3) Randomly choose number of repetitions based on available range, weighted based on week within block. (Lower numbers more heavily weighted earlier in the block, etc.)
7. Assign workouts to days of the week.
    a. Take number of available days and subtract 1 for each speed workout and long run on the docket.
    b. Split remaining easy miles into number of remaining days.
        Do so in a way that randomizes the number of miles (by the half mile) on a given day. 
        If the longest day is within